<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Detalhes do Produto - Mundo Tech">
    <meta name="keywords" content="tecnologia, iPhone, smartphones, produtos, Mundo Tech">
    <meta name="author" content="Mundo Tech">
    <meta name="robots" content="index, follow">
    <title>Detalhes do Produto - Mundo Tech</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <h1>Mundo Tech</h1>
            </div>
            <nav class="navigation" aria-label="Navegação principal">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="produtos.html">Produtos</a></li>
                    <li><a href="fale-conosco.html">Fale Conosco</a></li>
                </ul>
            </nav>
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="Pesquisar produto..." aria-label="Campo de pesquisa">
                <button onclick="redirectToSearch()" aria-label="Buscar produto">Buscar</button>
            </div>
        </div>
    </header>

    <!-- Conteúdo Principal -->
    <main class="container">
        <section class="detalhes-produto">
            <h1 id="produto-nome" aria-live="polite">Carregando...</h1>
            <div class="product-gallery">
                <img src="" alt="Imagem do Produto" id="produto-imagem" class="produto-imagem" aria-describedby="produto-descricao">
            </div>
            <div class="product-info">
                <p class="preco" id="produto-preco" aria-live="polite">Preço: Carregando...</p>
                <p class="condicao" id="produto-condicao" aria-live="polite">Condição: Carregando...</p>
                <p class="descricao" id="produto-descricao" aria-live="polite">Descrição: Carregando...</p>
                <a href="#" id="whatsapp-button" class="whatsapp-button" aria-label="Comprar via WhatsApp">Comprar via WhatsApp</a>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2024 Mundo Tech. Todos os direitos reservados.</p>
        <p>Contato: <a href="tel:+244946419129" aria-label="Ligar para Mundo Tech">+244 946 419 129</a></p>
    </footer>

    <script>
        // Função para carregar os detalhes do produto com base no ID
        function carregarDetalhesProduto() {
            const urlParams = new URLSearchParams(window.location.search);
            const produtoId = urlParams.get('id');

            // Dados simulados (substitua por dados reais ou integração com backend)
            const produtos = [
                {
                    id: 1,
                    nome: "iPhone XS Max",
                    imagem: "./img/iphone-xs-max.jpg",
                    preco: "240.000 Kz",
                    condicao: "Semi-novo",
                    descricao: "O iPhone XS Max é um smartphone poderoso com tela grande de 6,5 polegadas, câmera dupla de 12 MP e processador A12 Bionic. Ideal para quem busca desempenho e qualidade."
                },
                {
                    id: 2,
                    nome: "iPhone 7 Plus",
                    imagem: "./img/iphone-7-plus.jpg",
                    preco: "70.000 Kz",
                    condicao: "Bom",
                    descricao: "O iPhone 7 Plus é um smartphone confiável com tela de 5,5 polegadas, câmera de 12 MP e processador A10 Fusion."
                },
                {
                    id: 3,
                    nome: "iPhone 12",
                    imagem: "./img/iphone-12.jpg",
                    preco: "350.000 Kz",
                    condicao: "Muito Bom",
                    descricao: "O iPhone 12 é um smartphone moderno com tela de 6,1 polegadas, câmera dupla de 12 MP e processador A14 Bionic."
                }
            ];

            const produto = produtos.find(p => p.id == produtoId);
            const produtoNome = document.getElementById('produto-nome');
            const produtoImagem = document.getElementById('produto-imagem');
            const produtoPreco = document.getElementById('produto-preco');
            const produtoCondicao = document.getElementById('produto-condicao');
            const produtoDescricao = document.getElementById('produto-descricao');
            const whatsappButton = document.getElementById('whatsapp-button');

            if (produto) {
                produtoNome.textContent = produto.nome;
                produtoImagem.src = produto.imagem;
                produtoImagem.alt = produto.nome;
                produtoPreco.textContent = `Preço: ${produto.preco}`;
                produtoCondicao.textContent = `Condição: ${produto.condicao}`;
                produtoDescricao.textContent = `Descrição: ${produto.descricao}`;

                // Atualiza o link do WhatsApp
                const mensagem = `Olá! Estou interessado no ${produto.nome}. Poderia me fornecer mais detalhes?`;
                whatsappButton.href = `https://wa.me/244938326601?text=${encodeURIComponent(mensagem)}`;
            } else {
                produtoNome.textContent = "Produto não encontrado";
                produtoPreco.textContent = "Preço: N/A";
                produtoCondicao.textContent = "Condição: N/A";
                produtoDescricao.textContent = "Descrição: N/A";
                whatsappButton.style.display = "none"; // Oculta o botão de WhatsApp
            }
        }

        // Função para redirecionar para a página de resultados
        function redirectToSearch() {
            const searchTerm = document.getElementById('searchInput').value.trim();
            if (searchTerm) {
                window.location.href = `resultados.html?q=${encodeURIComponent(searchTerm)}`;
            } else {
                alert("Por favor, insira um termo de pesquisa.");
            }
        }

        // Adicionar evento de tecla "Enter" no campo de pesquisa
        document.getElementById('searchInput').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                redirectToSearch();
            }
        });

        // Carregar detalhes do produto ao carregar a página
        document.addEventListener('DOMContentLoaded', carregarDetalhesProduto);
    </script>
</body>
</html>
